{% extends 'service/layout.html' %}
{% load static %}

{% block title %}Create Task{% endblock %}

{% block add_css %}
<link rel="stylesheet" href="{% static 'service/css/register_login.css' %}">
{% endblock %}

{% block content %}
<body>
    <div class="overlay">
        <main>
            <div class="login-container">
                <h2>Create Task</h2>
                
                <!-- Вывод ошибок формы -->
                {% if form.non_field_errors %}
                    <div class="alert alert-danger">
                        <ul>
                            {% for error in form.non_field_errors %}
                                <li>{{ error }}</li>
                            {% endfor %}
                        </ul>
                    </div>
                {% endif %}
                
                <!-- Форма для создания задачи -->
                <form method="POST" enctype="multipart/form-data">
                    {% csrf_token %}
                    
                    <!-- Поля формы -->
                    {% for field in form %}
                        <div class="form-group">
                            <!-- Отображение ошибок для каждого поля -->
                            {% if field.errors %}
                                <div class="alert alert-danger">
                                    <ul>
                                        {% for error in field.errors %}
                                            <li>{{ error }}</li>
                                        {% endfor %}
                                    </ul>
                                </div>
                            {% endif %}
                            
                            <!-- Метка и поле ввода -->
                            {{ field.label_tag }}
                            {{ field }}
                        </div>
                    {% endfor %}
                    
                    <!-- Кнопка отправки -->
                    <button type="submit" class="btn">Create</button>
                </form>
            </div>
        </main>
    </div>
</body>
</html>
{% endblock %}